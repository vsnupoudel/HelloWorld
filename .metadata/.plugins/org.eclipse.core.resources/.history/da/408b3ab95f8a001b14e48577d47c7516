package test;
import weka.*;
import weka.classifiers.Classifier;
import weka.core.Instances;
import java.io.File;
import java.io.FileWriter;
import java.io.IOException; 
import java.io.BufferedWriter;

public class HelloWorld {
	static String fileDirectoryPath = "D:\\handwritten_digit_corpus_2\\handwritten_digit_corpus";
	
	public static void main(String[] args) throws IOException {
		File dir = new File(fileDirectoryPath);
		  File[] directoryListing = dir.listFiles();
		  if (directoryListing != null) {
		    for (File child : directoryListing) {
		    if ( child.getName().contains(".png") ) {
				GetPixels getpixels = new GetPixels(child.getAbsolutePath());
				int[] pixels = getpixels.get_pixels();		
			
				// Write to a .csv
				BufferedWriter br = new BufferedWriter(new FileWriter(fileDirectoryPath+"\\myfile.csv"));
				StringBuilder sb = new StringBuilder();

				// Append strings from array
				for (int element : pixels) {
				 sb.append(element);
				 sb.append(",");
				}
				sb.append("\n");
				br.write(sb.toString());
				 br.close();
				
		      
		    }
		    
		    }
		   
		  } 
		
		
		  
	}

}
